"use strict";require("core-js/modules/es.regexp.constructor.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.regexp.sticky.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.string.replace.js");var bundle=require("./bundle"),distFor=require("./distFor"),tsFor=require("./tsFor"),gulpConfig=require("../gulp.config.js"),_require=require("gulp"),parallel=_require.parallel,series=_require.series,watch=_require.watch,testQuick=require("./testQuick"),watchFull=function(){return watch(gulpConfig.get("watchSearch")).on("change",(function(e){var r=gulpConfig.get("useTsConfig"),s=gulpConfig.get("distPath"),t=gulpConfig.get("srcPath"),u=new RegExp("^".concat(t,"(.*\\/)(.+)\\.(js|ts)$"),"i"),i=e.replace(u,"".concat(s,"$1")),o=e;r&&(o=e.replace(u,"".concat(s,"$1$2.js")));var c=function(){return distFor(o,i)},l=function(){return r?series((function(){return tsFor(e,i)}),c):c};return gulpConfig.get("nodeOnly")?parallel(testQuick,l)():parallel(testQuick,series(l,bundle))()}))};module.exports=watchFull;