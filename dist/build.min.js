"use strict";const bundle=require("./bundle"),bundleLint=require("./bundleLint"),bundleMinify=require("./bundleMinify"),{clean:clean,distSeries:distSeries}=require("./partials"),compileReadme=require("./compileReadme"),distLint=require("./distLint"),distMinify=require("./distMinify"),{parallel:parallel,series:series}=require("gulp"),gulpConfig=require("../gulp.config.js"),testFull=require("./testFull"),build=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const i=parallel(distLint,distMinify),l=parallel(bundleLint,bundleMinify),u=[clean,distSeries(),i];gulpConfig.get("useTsConfig")&&u.push(compileReadme),gulpConfig.get("nodeOnly")||(u.push(bundle),u.push(l));const n=[series(...u)];return gulpConfig.get("useTsConfig")||n.push(compileReadme),n.push(testFull),parallel(...n)(e)};module.exports=build;